module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[n].concat(i).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];null!=a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),l=function(e){var t={};return function(n){if(void 0===t[n]){var o=e.call(this,n);if(o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[n]=o}return t[n]}}((function(e){return document.querySelector(e)})),c=null,s=0,u=[],d=n(6);function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(g(o.parts[a],t))}else{var l=[];for(a=0;a<o.parts.length;a++)l.push(g(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:l}}}}function h(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(l):n.push(o[a]={id:a,parts:[l]})}return n}function m(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function p(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),m(e,t),t}function b(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function g(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=s++;n=c||(c=p(t)),o=x.bind(null,n,a,!1),r=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),m(e,t),t}(t),o=S.bind(null,n,t),r=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),o=w.bind(null,n),r=function(){v(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return f(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(l=i[a.id]).refs--,o.push(l)}e&&f(h(e,t),t);for(r=0;r<o.length;r++){var l;if(0===(l=o[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}};var y,C=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function x(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=C(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function w(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function S(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=d(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}},function(e,t,n){var o=n(5);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0};n(3)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".v-table-header .v-table-container .v-table-main-container {\n  overflow-y: hidden;\n}\n.v-table-container {\n  display: flex;\n  border: 1px solid #e3e4e8;\n}\n.v-table-container .v-table-left-columns-container {\n  overflow: hidden;\n}\n.v-table-container .v-table-left-columns-container .v-table-row {\n  display: flex;\n}\n.v-table-container .v-table-main-container {\n  overflow: auto;\n}\n.v-table-container .v-table-main-container .v-table-row {\n  display: flex;\n}\n.v-table-container .v-table-fixed-left {\n  box-shadow: 6px 0 6px -4px rgba(0, 0, 0, 0.15);\n}\n.v-table-container .v-table-fixed-right {\n  box-shadow: -6px 0 6px -4px rgba(0, 0, 0, 0.15);\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){var o=n(8);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0};n(3)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"/* VTable*/\n.v-table-header .v-grid-container {\n  background: #e9ebf0;\n  border-bottom: none;\n}\n.v-table-header .v-grid-container .v-grid-left-columns-container,\n.v-table-header .v-grid-container .v-grid-right-columns-container {\n  overflow: hidden;\n}\n.v-table-header .v-grid-container .v-grid-left-columns-container .v-grid-cell,\n.v-table-header .v-grid-container .v-grid-right-columns-container .v-grid-cell {\n  border-bottom: none !important;\n}\n.v-table-header .v-grid-container .v-grid-main-container {\n  overflow-y: hidden;\n  overflow-x: hidden;\n}\n.v-table-header .v-grid-container .v-grid-main-container.v-grid-empty-main-container {\n  overflow-x: auto;\n}\n.v-table-header .v-grid-container .v-grid-main-container.v-grid-empty-main-container::-webkit-scrollbar {\n  display: none;\n}\n.v-table-header .v-grid-container .v-grid-main-container::-webkit-scrollbar {\n  background: transparent;\n}\n.v-table-header .v-grid-container .v-grid-main-container .v-grid-cell {\n  border-bottom: none !important;\n}\n.v-table-footer .v-grid-container {\n  background: #fff9e1;\n  border-top: none;\n}\n.v-table-footer .v-grid-container .v-grid-left-columns-container,\n.v-table-footer .v-grid-container .v-grid-right-columns-container {\n  overflow: hidden;\n}\n.v-table-footer .v-grid-container .v-grid-left-columns-container .v-grid-cell,\n.v-table-footer .v-grid-container .v-grid-right-columns-container .v-grid-cell {\n  border-bottom: none !important;\n}\n.v-table-footer .v-grid-container .v-grid-main-container {\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.v-table-footer .v-grid-container .v-grid-main-container::-webkit-scrollbar {\n  background: transparent;\n}\n.v-table-footer .v-grid-container .v-grid-main-container .v-grid-cell {\n  border-bottom: none !important;\n}\n/* Grid*/\n.v-grid-container {\n  position: relative;\n  display: flex;\n  border: 1px solid #d1d3d8;\n}\n.v-grid-container .v-grid-left-columns-container,\n.v-grid-container .v-grid-right-columns-container {\n  overflow-y: hidden;\n  overflow-x: scroll;\n  z-index: 1;\n}\n.v-grid-container .v-grid-left-columns-container::-webkit-scrollbar,\n.v-grid-container .v-grid-right-columns-container::-webkit-scrollbar {\n  color: transparent;\n}\n.v-grid-container .v-grid-left-columns-container .v-grid-row,\n.v-grid-container .v-grid-right-columns-container .v-grid-row {\n  display: flex;\n}\n.v-grid-container .v-grid-left-columns-container .v-grid-row .v-grid-cell,\n.v-grid-container .v-grid-right-columns-container .v-grid-row .v-grid-cell {\n  overflow: hidden;\n  position: relative;\n  border-bottom: 1px solid #d1d3d8;\n  line-height: 16px;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  word-break: break-all;\n}\n.v-grid-container .v-grid-main-container {\n  overflow: auto;\n}\n.v-grid-container .v-grid-main-container .v-grid-row {\n  display: flex;\n}\n.v-grid-container .v-grid-main-container .v-grid-row .v-grid-cell {\n  overflow: hidden;\n  position: relative;\n  border-bottom: 1px solid #d1d3d8;\n  line-height: 16px;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  word-break: break-all;\n}\n.v-grid-container .v-grid-fixed-left {\n  box-shadow: 6px 0 6px -4px rgba(0, 0, 0, 0.15);\n}\n.v-grid-container .v-grid-fixed-right {\n  box-shadow: -6px 0 6px -4px rgba(0, 0, 0, 0.15);\n}\n.v-grid-container .v-for-sync-scroll-shadow {\n  box-shadow: 6px 0 6px -4px transparent;\n}\n.v-grid-container .v-for-sync-scroll-shadow-right {\n  box-shadow: -6px 0 6px -4px transparent;\n}\n.v-grid-container .v-container-empty {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  padding-top: 40px;\n  box-sizing: border-box;\n  color: #999;\n}\n.v-grid-container .v-container-loading {\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  padding-top: 60px;\n  box-sizing: border-box;\n  opacity: 0.8;\n  background: #fafafa;\n}\n.v-row-remove {\n  position: absolute;\n  top: -20px;\n  left: -20px;\n  border: 20px solid;\n  border-color: red transparent transparent transparent;\n  transform: rotate(135deg);\n  cursor: pointer;\n}\n.v-row-remove:after {\n  content: \"x\";\n  position: absolute;\n  top: -20px;\n  left: -2px;\n  color: #fff;\n  transform: rotate(45deg);\n}\n.v-checkbox-container {\n  position: relative;\n  cursor: pointer;\n  width: 16px;\n  height: 16px;\n}\n.v-checkbox-container input {\n  cursor: pointer;\n}\n.v-checkbox-container input:checked + .show-box:before {\n  border: solid #ff8040;\n  border-width: 0 2px 2px 0;\n}\n.v-checkbox-container .show-box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 16px;\n  height: 16px;\n  border-radius: 2px;\n  border: 1px solid #d1d3d8;\n  background: white;\n}\n.v-checkbox-container .show-box:hover {\n  border-color: #ff8040;\n}\n.v-checkbox-container .show-box:before {\n  content: '';\n  position: absolute;\n  top: 2px;\n  left: 5px;\n  width: 5px;\n  height: 8px;\n  border: solid #fff;\n  border-width: 0 2px 2px 0;\n  transform: rotate(45deg);\n}\n.v-checkbox-container-disabled {\n  cursor: not-allowed;\n}\n.v-checkbox-container-disabled .show-box {\n  background: #eee;\n}\n.v-checkbox-container-disabled .show-box:hover {\n  border-color: #d1d3d8;\n}\n.v-checkbox-container-disabled .show-box:before {\n  border: solid transparent;\n}\n",""])},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(1),a=n.n(i);n(4);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,o,i,a=(t=l,function(){var e,n=d(t);if(u()){var o=d(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return s(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={columns:[],virtualColumns:[],dataSource:[],virtualData:[],visibleHeight:e.visibleHeight||400,estimatedRowHeight:40,rowVisibleCount:10,rowOffsetCount:5,startRowIndex:0,endRowIndex:0,startVerticalOffset:0,endVerticalOffset:0,fixedLeftColumnCount:1,visibleWidth:e.visibleWidth||1200,estimatedColumnWidth:150,columnVisibleCount:8,columnOffsetCount:4,startColumnIndex:0,endColumnIndex:0,startHorizontalOffset:0,endHorizontalOffset:0,fixedLeftColumns:0,scrollLeft:0},t}return n=l,i=[{key:"getDerivedStateFromProps",value:function(e,t){if(console.log(e.dataSource!==t.dataSource),e.dataSource!==t.dataSource){var n=Math.ceil(t.visibleHeight/t.estimatedRowHeight),o=t.startRowIndex+n+2*t.rowOffsetCount,r=Math.ceil(t.visibleWidth/t.estimatedColumnWidth),i=t.startColumnIndex+r+2*t.columnOffsetCount,a=e.columns.slice(0,e.fixedLeftColumnCount);return{columns:e.columns,fixedLeftColumns:a,fixedLeftColumnCount:e.fixedLeftColumnCount,virtualColumns:e.columns.slice(t.startColumnIndex,i),startHorizontalOffset:t.startColumnIndex*t.estimatedColumnWidth,endHorizontalOffset:(e.columns.length-i)*t.estimatedColumnWidth,columnVisibleCount:r,dataSource:e.dataSource,virtualData:e.dataSource.slice(t.startRowIndex,o),startVerticalOffset:t.startRowIndex*t.estimatedRowHeight,endVerticalOffset:(e.dataSource.length-o)*t.estimatedRowHeight,rowVisibleCount:n}}return null}}],(o=[{key:"componentDidMount",value:function(){var e=this;this.setState({visibleHeight:this._container.clientHeight,visibleWidth:this._container.clientWidth}),this._container.addEventListener("scroll",(function(){console.log(e._container.scrollTop,e._leftContainer.scrollTop),e._leftContainer.scrollTop=e._container.scrollTop}))}},{key:"_onVerticalScroll",value:function(){var e=this._container.scrollTop,t=this.state,n=t.dataSource,o=t.estimatedRowHeight,r=t.rowOffsetCount,i=t.rowVisibleCount,a=Math.floor(e/o),l=a-r>0?a-r:0,c=i+a+r>n.length?n.length:i+a+r,s=l*o,u=(n.length-c)*o,d=n.slice(l,c);console.log(a,l,c,s,u,d,"垂直滚动"),this.setState({startRowIndex:l,endRowIndex:c,startVerticalOffset:s,endVerticalOffset:u,virtualData:d})}},{key:"_onHorizontalScroll",value:function(){var e=this._container.scrollLeft,t=this.state,n=t.columns,o=t.estimatedColumnWidth,r=t.columnOffsetCount,i=t.columnVisibleCount,a=Math.floor(e/o),l=a-r>0?a-r:0,c=i+a+r>n.length?n.length:i+a+r,s=l*o,u=(n.length-c)*o,d=n.slice(l,c);console.table({"columns.length":n.length,"scrollLeftNum水平滚动的条数":a,"startColumnIndex要渲染的列开始坐标":l,"endColumnIndex要渲染的列结尾坐标":c,"startHorizontalOffset左边未渲染数据的paddingLeft值":s,"endHorizontalOffset右边未渲染数据的paddingRight值":u}),console.log("需要渲染显示的列数据",d),console.log("总columns",n),this.setState({scrollLeft:e,startColumnIndex:l,endColumnIndex:c,startHorizontalOffset:s,endHorizontalOffset:u,virtualColumns:d})}},{key:"_onScrollEvent",value:function(){console.log(this),this.__onScroll(this._container.scrollLeft),this._onVerticalScroll(),this._onHorizontalScroll();var e=this.state.scrollPosition,t=this._container.scrollTop-e>0;this.setState({scrollPosition:this._container.scrollTop});var n=this._container.scrollHeight-this._container.scrollTop-this._container.clientHeight;this._container.scrollHeight,this._container.scrollTop,this._container.clientHeight,!t&&this._container.scrollTop,console.table({"scrollTop 滚动的高度":this._container.scrollTop,"scrollLeft 滚动的宽度":this._container.scrollLeft,"clientHeight 视窗高度":this._container.clientHeight,"scrollHeight 页面高度":this._container.scrollHeight,"height 距离页面底部的高度":n,"滚动方向":t?"下":"上"})}},{key:"_cellRender",value:function(e,t,n,o){var i=this,a=t+this.state.startRowIndex,l=o+this.state.startColumnIndex,c=e[n.key];return r.a.createElement("div",{style:{minWidth:150},onClick:function(){return i.__onCellTap(e)}},n.render?n.render(c):e[n.key],"[",a,", ",l,"]")}},{key:"render",value:function(){var e=this,t=this.state,n=t.fixedLeftColumns,o=t.virtualColumns,i=t.startHorizontalOffset,a=t.endHorizontalOffset,l=t.visibleWidth,c=t.scrollLeft,s=t.virtualData,u=t.startVerticalOffset,d=t.endVerticalOffset,f=t.estimatedRowHeight,h=t.visibleHeight;return console.log(s,"-"),console.log(o,"|"),r.a.createElement("div",{className:"v-table-container"},r.a.createElement("div",{className:"v-table-left-columns-container ".concat(c>0&&"v-table-fixed-left"),ref:function(t){return e._leftContainer=t},style:{width:300,height:h}},r.a.createElement("div",{style:{paddingTop:u,paddingBottom:d}},s.map((function(t,o){return r.a.createElement(r.a.Fragment,{key:o},r.a.createElement("div",{className:"v-table-row",style:{width:300,height:f}},n.map((function(n,i){return r.a.createElement(r.a.Fragment,{key:i},e._cellRender(t,o,n,i))}))))})))),r.a.createElement("div",{className:"v-table-main-container",ref:function(t){return e._container=t},onScrollCapture:this._onScrollEvent.bind(this),style:{width:l,height:h,minHeight:f}},r.a.createElement("div",{style:{paddingTop:u,paddingBottom:d}},s.map((function(t,n){return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("div",{className:"v-table-row",style:{height:f,width:l,paddingLeft:i,paddingRight:a}},o.map((function(o,i){return r.a.createElement(r.a.Fragment,{key:i},e._cellRender(t,n,o,i))}))))})))))}},{key:"__onScroll",value:function(e){var t=this.props.onScroll;"function"==typeof t&&t(e)}},{key:"__onCellTap",value:function(e){var t=this.props.onCellTap;"function"==typeof t&&t(e)}}])&&c(n.prototype,o),i&&c(n,i),l}(r.a.Component);h.propTypes={title:a.a.string,columns:a.a.array,fixedLeftColumnCount:a.a.number,dataSource:a.a.array,visibleWidth:a.a.number,visibleHeight:a.a.number,onScroll:a.a.func,onCellTap:a.a.func};var m=h,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;return e.forEach((function(e){t+=e.width})),t};n(7);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(l,e);var t,n,o,i,a=(t=l,function(){var e,n=S(t);if(w()){var o=S(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return x(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={columns:[],virtualColumns:[],dataSource:[],virtualData:[],visibleHeight:e.visibleHeight||400,estimatedRowHeight:e.estimatedRowHeight||40,rowVisibleCount:10,rowOffsetCount:10,startRowIndex:0,endRowIndex:0,startVerticalOffset:0,endVerticalOffset:0,visibleWidth:e.visibleWidth||1200,estimatedColumnWidth:150,columnVisibleCount:8,columnOffsetCount:e.columnOffsetCount||4,startColumnIndex:0,endColumnIndex:0,startHorizontalOffset:0,endHorizontalOffset:0,scrollLeft:1,fixedLeftColumnCount:0,fixedLeftColumns:[],fixedLeftColumnsWidth:0,fixedRightColumnCount:e.fixedRightColumnCount||0,fixedRightColumns:[],fixedRightColumnsWidth:0,scrollColumns:[],scrollColumnsWidth:e.visibleWidth||1200,pointerEvents:"auto",pointerEventDisabled:e.pointerEventDisabled||!1},t}return n=l,i=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.dataSource!==t.dataSource||e.pointerEventDisabled!==t.pointerEventDisabled){var n=Math.ceil(t.visibleHeight/t.estimatedRowHeight),o=t.startRowIndex+n+2*t.rowOffsetCount,r=t.visibleWidth,i=e.columns.slice(0,e.fixedLeftColumnCount),a=v(i),l=e.columns.length-e.fixedRightColumnCount,c=e.columns.slice(l,e.columns.length),s=v(c),u=e.columns.slice(e.fixedLeftColumnCount,l),d=r-a-s,f=Math.ceil(d/t.estimatedColumnWidth),h=t.startColumnIndex+f+2*t.columnOffsetCount,m=u.slice(0,t.startColumnIndex),p=v(m),b=u.slice(h,u.length),g=v(b);return{pointerEventDisabled:e.pointerEventDisabled,visibleHeight:e.visibleHeight,estimatedRowHeight:e.estimatedRowHeight,columns:e.columns,fixedLeftColumns:i,fixedLeftColumnsWidth:a,fixedRightColumns:c,fixedRightColumnsWidth:s,scrollColumns:u,scrollColumnsWidth:d,fixedLeftColumnCount:e.fixedLeftColumnCount,virtualColumns:u.slice(t.startColumnIndex,h),startHorizontalOffset:p,endHorizontalOffset:g,columnVisibleCount:f,dataSource:e.dataSource,virtualData:e.dataSource.slice(t.startRowIndex,o),startVerticalOffset:t.startRowIndex*t.estimatedRowHeight,endVerticalOffset:e.dataSource.length?(e.dataSource.length-o)*t.estimatedRowHeight:0,rowVisibleCount:n}}return null}}],(o=[{key:"componentDidUpdate",value:function(e){if(e.dataSource.length!==this.state.dataSource.length){var t=this.state,n=t.dataSource,o=t.estimatedRowHeight,r=n.length*o;r>this._scrollContainer.scrollTop?(this._scrollContainer.scrollTop+=1,this._scrollContainer.scrollTop-=1):this._scrollContainer.scrollTop=r}this._masterContainer&&this._masterContainer.clientWidth!==this.state.visibleWidth&&this.resizeListener()}},{key:"componentWillReceiveProps",value:function(e){var t=this.state;e.dataSource===t.dataSource&&e.pointerEventDisabled===t.pointerEventDisabled||this.setState(g({},this.getTableConfig(e,t),{pointerEventDisabled:e.pointerEventDisabled,visibleHeight:e.visibleHeight,estimatedRowHeight:e.estimatedRowHeight,columns:e.columns,fixedLeftColumnCount:e.fixedLeftColumnCount,dataSource:e.dataSource}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=this._masterContainer.clientHeight,o=this._masterContainer.clientWidth,r=t.columns.slice(0,t.fixedLeftColumnCount),i=v(r),a=t.columns.length-t.fixedRightColumnCount,l=t.columns.slice(a,t.columns.length),c=v(l),s=t.columns.slice(t.fixedLeftColumnCount,t.columns.length),u=o-i-c;this.setState({pointerEventDisabled:t.pointerEventDisabled,estimatedRowHeight:t.estimatedRowHeight,visibleHeight:n,visibleWidth:o,fixedLeftColumns:r,fixedLeftColumnsWidth:i,fixedRightColumns:l,fixedRightColumnsWidth:c,scrollColumns:s,scrollColumnsWidth:u}),window.addEventListener("resize",(function(){return e.resizeListener()}))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",(function(){return e.resizeListener()}))}},{key:"resizeListener",value:function(){var e=this;if(this._masterContainer){var t=this._masterContainer.clientWidth;this.setState({visibleWidth:t},(function(){var t=e.props,n=e.state;e.setState(e.getTableConfig(t,n))}))}}},{key:"getTableConfig",value:function(e,t){var n=Math.ceil(t.visibleHeight/t.estimatedRowHeight),o=t.startRowIndex+n+2*t.rowOffsetCount,r=t.visibleWidth,i=e.columns.slice(0,e.fixedLeftColumnCount),a=v(i),l=e.columns.length-e.fixedRightColumnCount,c=e.columns.slice(l,e.columns.length),s=v(c),u=e.columns.slice(e.fixedLeftColumnCount,l),d=r-a-s,f=Math.ceil(d/t.estimatedColumnWidth),h=t.startColumnIndex+f+2*t.columnOffsetCount,m=u.slice(0,t.startColumnIndex),p=v(m),b=u.slice(h,u.length),g=v(b);return{fixedLeftColumns:i,fixedLeftColumnsWidth:a,fixedRightColumns:c,fixedRightColumnsWidth:s,scrollColumns:u,scrollColumnsWidth:d,virtualColumns:u.slice(t.startColumnIndex,h),startHorizontalOffset:p,endHorizontalOffset:g,columnVisibleCount:f,virtualData:e.dataSource.slice(t.startRowIndex,o),startVerticalOffset:t.startRowIndex*t.estimatedRowHeight,endVerticalOffset:e.dataSource.length?(e.dataSource.length-o)*t.estimatedRowHeight:0,rowVisibleCount:n}}},{key:"_syncScrollTop",value:function(e){var t=e.scrollTop;[this._scrollContainer,this._leftContainer,this._rightContainer].forEach((function(e){e.scrollTop!==t&&(e.scrollTop=t)}))}},{key:"_onVerticalScroll",value:function(){var e=this._scrollContainer.scrollTop,t=this.state,n=t.dataSource,o=t.estimatedRowHeight,r=t.rowOffsetCount,i=t.rowVisibleCount,a=Math.floor(e/o),l=a-r>0?a-r:0,c=i+a+r>n.length?n.length:i+a+r,s=l*o,u=n.length?(n.length-c)*o:0,d=n.slice(l,c);this.setState({startRowIndex:l,endRowIndex:c,startVerticalOffset:s,endVerticalOffset:u,virtualData:d})}},{key:"_onHorizontalScroll",value:function(){var e=this._scrollContainer.scrollLeft,t=this.state,n=t.scrollColumns,o=t.estimatedColumnWidth,r=t.columnOffsetCount,i=t.columnVisibleCount,a=Math.floor(e/o),l=a-r>0?a-r:0,c=i+a+r>n.length?n.length:i+a+r,s=n.slice(0,l),u=v(s),d=n.slice(c,n.length),f=v(d),h=n.slice(l,c);this.setState({scrollLeft:e<1?1:e,startColumnIndex:l,endColumnIndex:c,startHorizontalOffset:u,endHorizontalOffset:f,virtualColumns:h})}},{key:"_onScrollEvent",value:function(e){if("v-grid-main-container"===e.target.id){this._syncScrollTop(e.target),this.__onScroll(this._scrollContainer.scrollLeft),this._onVerticalScroll(),this._onHorizontalScroll();var t=this.state.scrollPosition,n=this._scrollContainer.scrollTop-t>0;this.setState({scrollPosition:this._scrollContainer.scrollTop}),this._scrollContainer.scrollHeight,this._scrollContainer.scrollTop,this._scrollContainer.clientHeight,!n&&this._scrollContainer.scrollTop}}},{key:"_cellRender",value:function(e,t,n,o){var i=this,a=t+this.state.startRowIndex,l=o+this.state.startColumnIndex,c=e[n.key],s=n.width||150,u=this.state.estimatedRowHeight,d="",f=this.props,h=f.rowActiveKey,m=void 0===h?"active":h,v=f.rowActiveColor,p=void 0===v?"#fff1f0":v,b=f.type,y=void 0===b?"content":b,C=n.headerClassName?n.headerClassName:n.className,x="header"===y?C:n.className;if("header"===y){var w=c&&c.split("@");c=w[0],s=Number(w[1]),u=Number(w[2]),d=w[3]?w[3]:""}return r.a.createElement("div",{onClick:function(){return i.__onCellTap(c,e,t,a,n,o,l)},className:"v-grid-cell ".concat(x||""," ").concat(d),style:g({width:s,minWidth:s,display:"0"===String(s)?"none":void 0,height:u,background:e[m]?p:e.checked||e.hover?"#ebf5ff":""},n.style)},this._render(c,e,t,a,n,o,l))}},{key:"_render",value:function(e,t,n,o,r,i,a){return"header"===this.props.type?r.headRender?r.headRender(e,t,n,o,r,i,a):e:r.render?r.render(e,t,n,o,r,i,a):e}},{key:"_mouseEnter",value:function(e,t){var n=this.props.type;if("header"!==this.props.type&&"footer"!==n){var o=this.state.virtualData;o.map((function(t,n){t.hover=!1,n===e&&(t.hover=!0)})),this.setState({virtualData:o});var r=this.props.onMouseEnter;"function"==typeof r&&r(t,e)}}},{key:"_mouseLeave",value:function(e,t){var n=this.props.type;if("header"!==n&&"footer"!==n){var o=this.state.virtualData;o[e].hover=!1,this.setState({virtualData:o});var r=this.props.onMouseLeave;"function"==typeof r&&r(t,e)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.fixedLeftColumns,o=t.fixedLeftColumnsWidth,i=t.fixedRightColumns,a=t.fixedRightColumnsWidth,l=t.scrollColumnsWidth,c=t.virtualColumns,s=t.startHorizontalOffset,u=t.endHorizontalOffset,d=t.scrollLeft,f=t.virtualData,h=t.startVerticalOffset,m=t.endVerticalOffset,v=t.estimatedRowHeight,p=t.visibleHeight,b=t.dataSource,g=t.pointerEvents,y=t.pointerEventDisabled,C=this.props.scrollBarWidth;return r.a.createElement("div",null,r.a.createElement("div",{className:"v-grid-container",ref:function(t){return e._masterContainer=t},style:{height:p,boxSizing:"content-box"}}," ",r.a.createElement("div",{className:"v-grid-left-columns-container ".concat(d>1?"v-grid-fixed-left":"v-for-sync-scroll-shadow"),ref:function(t){return e._leftContainer=t},style:{width:o,minWidth:o,height:p}},r.a.createElement("div",{style:{paddingTop:h,paddingBottom:m}},f.map((function(t,i){return r.a.createElement("div",{key:i},r.a.createElement("div",{className:"v-grid-row",onMouseEnter:function(){return e._mouseEnter(i,t)},onMouseLeave:function(){return e._mouseLeave(i,t)},style:{pointerEvents:y?"none":g,width:o,minWidth:o,height:v}},n.map((function(n,o){return r.a.createElement("div",{key:o},e._cellRender(t,i,n,o))}))))})))),r.a.createElement("div",{className:"v-grid-main-container ".concat(this.props.emptyContainer?"v-grid-empty-main-container":""),id:"v-grid-main-container",ref:function(t){return e._scrollContainer=t},onScrollCapture:this._onScrollEvent.bind(this),style:{width:l,height:p,minHeight:v,marginRight:"header"===this.props.type?C:0}},r.a.createElement("div",{style:{paddingTop:h,paddingBottom:m}},f.map((function(t,n){return r.a.createElement("div",{key:n},r.a.createElement("div",{className:"v-grid-row ".concat(t.hover?"v-grid-row-hover":""),onMouseEnter:function(){return e._mouseEnter(n,t)},onMouseLeave:function(){return e._mouseLeave(n,t)},style:{pointerEvents:y?"none":g,height:v,width:l-C,paddingLeft:s,paddingRight:u}},c.map((function(o,i){return r.a.createElement("div",{key:i},e._cellRender(t,n,o,i))}))))}))))," ",r.a.createElement("div",{className:"v-grid-right-columns-container ".concat(d>1?"v-grid-fixed-right":"v-for-sync-scroll-shadow-right"),ref:function(t){return e._rightContainer=t},style:{width:a,minWidth:a,height:p}},r.a.createElement("div",{style:{paddingTop:h,paddingBottom:m}},f.map((function(t,n){return r.a.createElement("div",{key:n},r.a.createElement("div",{className:"v-grid-row",onMouseEnter:function(){return e._mouseEnter(n,t)},onMouseLeave:function(){return e._mouseLeave(n,t)},style:{pointerEvents:y?"none":g,width:a,minWidth:a,height:v}},i.map((function(o,i){return r.a.createElement("div",{key:i},e._cellRender(t,n,o,i))}))))})))),!this.props.loading&&b.length<1&&r.a.createElement("div",{className:"v-container-empty"},this.props.emptyText||"暂无数据"),this.props.loading&&r.a.createElement("div",{className:"v-container-loading"},this.props.loadingText||"数据加载中，请稍后..")))}},{key:"__onScroll",value:function(e){var t=this.props.onScroll;"function"==typeof t&&t(e)}},{key:"__onCellTap",value:function(e,t,n,o,r,i,a){var l=this.props.onCellTap;"function"==typeof l&&l(e,t,n,o,r,i,a)}}])&&C(n.prototype,o),i&&C(n,i),l}(r.a.Component);k.propTypes={type:a.a.string,title:a.a.string,columns:a.a.array,fixedLeftColumnCount:a.a.number,fixedRightColumnCount:a.a.number,dataSource:a.a.array,emptyContainer:a.a.bool,visibleWidth:a.a.number,estimatedRowHeight:a.a.number,visibleHeight:a.a.number,columnOffsetCount:a.a.number,emptyText:a.a.element,loading:a.a.bool,loadingText:a.a.element,rowActiveKey:a.a.string,rowActiveColor:a.a.string,onScroll:a.a.func,onCellTap:a.a.func,pointerEventDisabled:a.a.bool};var R=k;function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(l,e);var t,n,o,i,a=(t=l,function(){var e,n=W(t);if(D()){var o=W(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return T(this,e)});function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this)).state={list:[],columns:[],columnData:[{}],dataSource:[],footerColumns:[],footerColumnData:[],selected:[],selectedRows:[],hasSubColumn:!1,scrollBarWidth:0},e}return n=l,(o=[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.state,o=e.rowRemoveVisible,i=void 0===o||o;if(e.dataSource!==n.dataSource||e.footerColumnData!==n.footerColumnData){var a=e.columns,l=this.getColumns(e.columns),c=e.dataSource.filter((function(e){return e.selectionDisable})).length===e.dataSource.length;if(e.rowSelection&&a[0]&&"checkBox"!==a[0].type){a.unshift({type:"checkBox",width:60,style:{justifyContent:"center"},headRender:function(e,n,o,i){return r.a.createElement("div",{className:"v-checkbox-container ".concat(c?"v-checkbox-container-disabled":""),onClick:function(e){return t._select(e,n,i)}},r.a.createElement("input",{type:"checkbox",onChange:function(e){return t._select(e,n,i)},checked:n.checked||!1,style:{margin:0}}),r.a.createElement("div",{className:"show-box"}))},render:function(n,o,a,l){return[i&&o&&o.hover&&r.a.createElement("div",{key:0,onClick:function(e){return t.__onRowRemove(e,o,a,l)}},e.rowRemoveText||r.a.createElement("div",{className:"v-row-remove"})),r.a.createElement("div",{key:1,className:"v-checkbox-container ".concat(o.selectionDisable?"v-checkbox-container-disabled":""),onClick:function(e){return t._select(e,o,l)}},r.a.createElement("input",{type:"checkbox",checked:o.checked||!1,style:{margin:0}}),r.a.createElement("div",{className:"show-box"}))]}});var s=JSON.parse(JSON.stringify(e.columns));(l=this.getColumns(s))[0]={width:60}}this.setState({columns:this.getColumns(a),columnData:this.getColumnData(a),dataSource:e.dataSource,footerColumns:l,footerColumnData:e.footerColumnData,selected:e.dataSource.map((function(e){return e.checked?e:void 0})),selectedRows:e.dataSource.map((function(t,n){return t.checked?e.rowKey?t[e.rowKey]:n:void 0}))})}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.rowRemoveVisible,o=void 0===n||n,i=t.columns,a=this.getColumns(t.columns),l=t.dataSource.filter((function(e){return e.selectionDisable})).length===t.dataSource.length;if(t.rowSelection&&i[0]&&"checkBox"!==i[0].type){i.unshift({type:"checkBox",width:60,style:{justifyContent:"center"},headRender:function(t,n,o,i){return r.a.createElement("div",{className:"v-checkbox-container ".concat(l?"v-checkbox-container-disabled":""),onClick:function(t){return e._select(t,n,i)}},r.a.createElement("input",{type:"checkbox",checked:n.checked||!1}),r.a.createElement("div",{className:"show-box"}))},render:function(n,i,a,l){return[o&&i&&i.hover&&r.a.createElement("div",{key:0,onClick:function(t){return e.__onRowRemove(t,i,a,l)}},t.rowRemoveText||r.a.createElement("div",{className:"v-row-remove"})),r.a.createElement("div",{key:1,className:"v-checkbox-container ".concat(i.selectionDisable?"v-checkbox-container-disabled":""),onClick:function(t){return e._select(t,i,l)}},r.a.createElement("input",{type:"checkbox",checked:i.checked||!1}),r.a.createElement("div",{className:"show-box"}))]}});var c=JSON.parse(JSON.stringify(t.columns));(a=this.getColumns(c))[0]={width:60}}this.setState({columns:this.getColumns(i),columnData:this.getColumnData(i),dataSource:t.dataSource,footerColumns:a,footerColumnData:t.footerColumnData,selected:t.dataSource.map((function(e){return e.checked?e:void 0})),selectedRows:t.dataSource.map((function(e,n){return e.checked?t.rowKey?e[t.rowKey]:n:void 0})),scrollBarWidth:this.getScrollBarWidth()})}},{key:"getScrollBarWidth",value:function(){var e=document.createElement("div"),t={width:"100px",height:"100px",overflowY:"scroll"};for(var n in t)e.style[n]=t[n];document.body.appendChild(e);var o=e.offsetWidth-e.clientWidth;return e.remove(),o}},{key:"getColumns",value:function(e){var t=[];return(e||[]).forEach((function(e){var n=[e];e.subColumns&&e.subColumns.length>0&&(n=e.subColumns),t=[].concat(E(t),E(n))})),t}},{key:"getColumnData",value:function(e){var t=e.filter((function(e){return e.subColumns&&e.subColumns[0]})),n=t.length>0?25:38,o=t.length>0?50:38;this.setState({hasSubColumn:t.length>0});var r=[{},{}];return e.forEach((function(e){if(e.subColumns&&e.subColumns.length>0){r[1]=r[1]||{};var t=0;if(e.subColumns.forEach((function(e){"number"==typeof e.width&&(t+=e.width)})),!e.width||e.width<t)e.width=t;else{var i=Number(((e.width-t)/e.subColumns.length).toFixed(5));e.subColumns.forEach((function(e){e.width=e.width?Number(e.width)+i:i}))}e.subColumns.forEach((function(t,o){r[1][t.key]="".concat(t.title,"@").concat(t.width,"@").concat(n),r[0][t.key]=0===o?"".concat(e.title,"@").concat(e.width,"@").concat(n):"".concat(e.title,"@0@").concat(n)}))}else r[0][e.key]="".concat(e.title,"@").concat(e.width,"@").concat(o);r[1][e.key]="".concat(e.title,"@").concat(e.width,"@0")})),r[0].selection="all",r}},{key:"render",value:function(){var e=this,t=this.state,n=t.columns,o=t.columnData,i=t.dataSource,a=t.footerColumns,l=void 0===a?[]:a,c=t.footerColumnData,s=void 0===c?[]:c,u=t.hasSubColumn,d=t.scrollBarWidth,f=this.props,h=f.onMouseEnter,m=f.onMouseLeave,v=f.className,p=f.visibleWidth,b=void 0===p?1200:p,g=f.visibleHeight,y=void 0===g?400:g,C=f.mainRowHeight,x=void 0===C?40:C,w=f.fixedLeftColumnCount,S=void 0===w?0:w,_=f.fixedRightColumnCount,k=void 0===_?0:_,O=f.columnOffsetCount,E=void 0===O?0:O,H=f.emptyText,L=f.loading,T=f.loadingText,D=f.rowActiveKey,W=f.rowActiveColor,j=f.pointerEventDisabled,N=void 0!==j&&j;return r.a.createElement("div",{className:"v-table ".concat(v||"")},r.a.createElement("div",{className:"v-table-header"},r.a.createElement(R,{type:"header",ref:function(t){return e._header=t},title:"title",visibleWidth:b,visibleHeight:u?50:36,estimatedRowHeight:u?25:36,columns:n,dataSource:o,emptyContainer:!i.length,fixedLeftColumnCount:S,fixedRightColumnCount:k,columnOffsetCount:E,pointerEventDisabled:N,scrollBarWidth:d})),r.a.createElement("div",{className:"v-table-content"},r.a.createElement(R,{title:"title",ref:function(t){return e._content=t},type:"content",visibleWidth:b,visibleHeight:y,estimatedRowHeight:x,columns:n,dataSource:i,fixedLeftColumnCount:S,fixedRightColumnCount:k,columnOffsetCount:E,onScroll:this.onScroll.bind(this),onCellTap:this.__onCellTap.bind(this),onMouseEnter:h,onMouseLeave:m,emptyText:H,loading:L,loadingText:T,rowActiveKey:D,rowActiveColor:W,pointerEventDisabled:N,scrollBarWidth:d})),s.length>0&&r.a.createElement("div",{className:"v-table-footer"},r.a.createElement(R,{type:"footer",ref:function(t){return e._footer=t},title:"title",visibleWidth:b,visibleHeight:36,estimatedRowHeight:36,columns:l,dataSource:s,fixedLeftColumnCount:S,fixedRightColumnCount:k,columnOffsetCount:E,pointerEventDisabled:N,emptyText:" ",scrollBarWidth:d})))}},{key:"onScroll",value:function(e){this._header._scrollContainer.scrollLeft=e,this._footer&&(this._footer._scrollContainer.scrollLeft=e)}},{key:"__onCellTap",value:function(e,t,n,o,r,i,a){var l=this.props.onCellTap;"function"==typeof l&&l(e,t,n,o,r,i,a)}},{key:"__onRowRemove",value:function(e,t,n,o){e.stopPropagation();var r=this.props.onRowRemove;"function"==typeof r&&r(e,t,n,o)}},{key:"_select",value:function(e,t,n){e.stopPropagation(),t.selection&&"all"===t.selection?this.__onSelectAll(t):this.__onSelect(t,n)}},{key:"__onSelectAll",value:function(e){var t=this.props,n=t.onSelectAll,o=t.rowKey,r=this.state.dataSource;if("function"==typeof n){if(r.filter((function(e){return e.selectionDisable})).length===r.length)return;var i=JSON.parse(JSON.stringify(r)),a=[],l=[];if(e.checked)e.checked=!1,r.map((function(e){return e.checked=!1,e})),this.setState({dataSource:r,selected:[],selectedRows:[]});else{e.checked=!0,r.map((function(e){return e.selectionDisable||(e.checked=!0),e}));var c=i.map((function(e){if(!e.selectionDisable)return e})),s=c.map((function(e,t){return e?o?e[o]:t:e}));this.setState({dataSource:r,selected:c,selectedRows:s}),a=c.filter((function(e){return e})),l=s.filter((function(e){return 0===e||e}))}n(a,l)}}},{key:"__onSelect",value:function(e,t){if(!e.selectionDisable){var n=this.props,o=n.onSelect,r=n.rowKey,i=this.state,a=i.selected,l=i.selectedRows,c=i.columnData,s=i.dataSource;if("function"==typeof o){e.checked?(e.checked=!1,a[t]=void 0,l[t]=void 0):(e.checked=!0,a[t]=e,l[t]=r?e[r]:t);var u=a.filter((function(e){return e})),d=l.filter((function(e){return 0===e||e}));u.length===s.length?c[0].checked=!0:c[0].checked=!1,this.setState({columnData:c}),o(e,u,d)}}}}])&&L(n.prototype,o),i&&L(n,i),l}(r.a.Component);N.propTypes={className:a.a.string,columns:a.a.array,fixedLeftColumnCount:a.a.number,fixedRightColumnCount:a.a.number,columnOffsetCount:a.a.number,dataSource:a.a.array,visibleWidth:a.a.number,visibleHeight:a.a.number,mainRowHeight:a.a.number,rowSelection:a.a.object,emptyText:a.a.element,loading:a.a.bool,loadingText:a.a.element,rowKey:a.a.string,rowActiveKey:a.a.string,rowActiveColor:a.a.string,footerColumnData:a.a.array,onCellTap:a.a.func,onSelectAll:a.a.func,onSelect:a.a.func,onRowRemove:a.a.func,rowRemoveText:a.a.element,rowRemoveVisible:a.a.bool,pointerEventDisabled:a.a.bool};var I=N;n.d(t,"Table",(function(){return m})),n.d(t,"VTable",(function(){return I})),n.d(t,"Grid",(function(){return R}))}]);